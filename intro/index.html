<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Flex Panels üí™</title>
  <link href='https://fonts.googleapis.com/css?family=Amatic+SC' rel='stylesheet' type='text/css'>
</head>
<body>
  <style>
    html {
      box-sizing: border-box;
      background:#ffc600;
      font-family:'helvetica neue';
      font-size: 20px;
      font-weight: 200;
    }
    body {
      margin: 0;
    }
    *, *:before, *:after {
      box-sizing: inherit;
    }
    .panels {
      min-height:100vh;
      overflow: hidden;
      display: flex;
    }

    .panel {
      background:#6B0F9C;
      box-shadow:inset 0 0 0 5px rgba(255,255,255,0.1);
      color:white;
      text-align: center;
      align-items:center;
      /* Safari transitionend event.propertyName === flex */
      /* Chrome + FF transitionend event.propertyName === flex-grow */
      transition:
        font-size 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),
        flex 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),
        background 0.2s;
      font-size: 20px;
      background-size:cover;
      background-position:center;
      flex: 1;
      justify-content: center;
      display: flex;
      flex-direction: column;
    }
    .panel1 { background-image:url(https://i.imgur.com/GMSGP9Y.jpg); }
    .panel2 { background-image:url(https://i.imgur.com/CLuqf7c.jpg); }
    .panel3 { background-image:url(https://i.imgur.com/eUxHmn5.jpg); }
    .panel4 { background-image:url(https://i.imgur.com/fUBa2aQ.jpg); }
    .panel5 { background-image:url(https://i.imgur.com/1gnlGQm.jpg); }
    /* Flex Items */
    .panel > * {
      margin:0;
      width: 100%;
      transition:transform 0.5s;
      flex: 1 0 auto;
      display:flex;
      justify-content: center;
      align-items: center;
    }

    .panel > *:first-child { transform: translateY(-100%); }
    .panel.open-active > *:first-child { transform: translateY(0); }
    .panel > *:last-child { transform: translateY(100%); }
    .panel.open-active > *:last-child { transform: translateY(0); }

    .panel p {
      text-transform: uppercase;
      font-family: 'Amatic SC', cursive;
      text-shadow:0 0 4px rgba(0, 0, 0, 0.72), 0 0 14px rgba(0, 0, 0, 0.45);
      font-size: 2em;
    }
    .panel p:nth-child(2) {
      font-size: 4em;
    }

    .panel.open {
      flex: 5;
      font-size:40px;
    }

    .cta {
      color:white;
      text-decoration: none;
    }

  </style>


  <div class="panels">
    <div class="panel panel1">
      <p>Hey</p>
      <p>Let's</p>
      <p>Dance</p>
    </div>
    <div class="panel panel2">
      <p>Give</p>
      <p>Take</p>
      <p>Receive</p>
    </div>
    <div class="panel panel3">
      <p>Experience</p>
      <p>It</p>
      <p>Today</p>
    </div>
    <div class="panel panel4">
      <p>Give</p>
      <p>All</p>
      <p>You can</p>
    </div>
    <div class="panel panel5">
      <p>Life</p>
      <p>In</p>
      <p>Motion</p>
    </div>
  </div>

  <script>

    //   find all .panel in the DOM    
    // create two function toggleOpen and toggleActive
    // toggleOpen should toggle class for panel element (MDN classList.toggle)
    // toggleActive shoudl check if panel 'flex' if true use classList.toggle() 'open-active'(use propertyName.includes)
    //add forEach panel addEventListner to toggleOpen and toggleActive

    /*====================================================================================================
    –í –∑–º—ñ–Ω–Ω—É allBands –∑–±–µ—Ä—ñ–≥–∞—î–º–æ "–∫–æ–ª–µ–∫—Ü—ñ—é" –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∑ –∫–ª–∞—Å–æ–º .panel
    –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º querySelectorAll —â–æ–± –º–∞—Ç–∏ –º–µ—Ç–æ–¥ .forEach –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ—ó –æ–±—Ä–æ–±–∫–∏ –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç—É –∫–æ–ª–µ–∫—Ü—ñ—ó
    –Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ getElementsByClassName –º–µ—Ç–æ–¥ .forEach –±—É–¥–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó
    ====================================================================================================*/
    var allBands = document.querySelectorAll('.panel');
    /*====================================================================================================
    –ü—Ä–æ—Å–ª—É—Ö–æ–≤—É—î–º –Ω–∞ –∫–ª—ñ–∫ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç –Ω–∞—à–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó —ñ —è–∫—â–æ —Ç–∞–∫–∏–π –≤—ñ–¥–±—É–≤—Å—è –≤–∏–∫–ª–∏–∫–∞—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é toggleOpen
    –¢–µ —Å–∞–º–µ –∑ toggleActive.
    ====================================================================================================*/
    allBands.forEach(function(band) {
      band.addEventListener("click", toggleOpen);         
      band.addEventListener("transitionend", toggleActive); 
      // —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –ø—ñ—Å–ª—è –∑–≤–µ—Ä—à–µ–Ω–Ω—è –≤—Å—ñ—Ö transition –µ—Ñ–µ–∫—Ç—ñ–≤      
    });      
    /*====================================================================================================
    –§—É–Ω–∫—Ü—ñ—è toggleOpen 
    1- –∑–∞–±–∏—Ä–∞—î !–£—Å—ñ! –Ω–∞—è–≤–Ω—ñ –∫–ª–∞—Å–∏ open —ñ open-active(—è–∫—â–æ —Ç–∞–∫—ñ —î –≤–∂–µ –¥–æ–¥–∞–Ω—ñ) –¶–µ —Ä–æ–±–∏—Ç—å—Å—è –≤–∏–∫–ª–∏–∫–æ–º —Ñ—É–Ω–∫—Ü—ñ—ó resetAll() 
    2- –¥–æ–¥–∞—î –∫–ª–∞—Å open (this)–µ–ª–µ–º–µ–Ω—Ç—É, –≤—ñ–¥ —è–∫–æ–≥–æ –ø—ñ—à–æ–≤ –≤–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ—ó toggleOpen
    ====================================================================================================*/
    function toggleOpen() {      
      if (this.classList.contains('open')) {
          resetAll();         
        } else {
          resetAll(); 
          this.classList.toggle('open');                                    
        }
    }
    /*====================================================================================================
    –§—É–Ω–∫—Ü—ñ—è resetAll
    –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é forEach –ø–µ—Ä–µ–±–∏—Ä–∞—î –≤—Å—ñ panel (band) —ñ —è–∫—â–æ —Å–º—É–≥–∞ –º—ñ—Å—Ç–∏—Ç—å –∫–ª–∞—Å open, —Ç–æ –∑–∞–±–∏—Ä–∞—î –π–æ–≥–æ. 
    –ú–æ–∂–Ω–∞ –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —ñ –∑–∞–±–∏—Ä–∞—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –π–æ–≥–æ –Ω–µ–º–∞—î –∞–ª–µ —Ü–µ –Ω–µ –ø–æ —Ñ–µ–Ω-—à—É—é))
    ====================================================================================================*/
    function resetAll() {
      allBands.forEach(function(band) {    
        if (band.classList.contains('open-active')) {
          band.classList.remove('open-active');
        }  
        if (band.classList.contains('open')) {
          band.classList.remove('open');          
        }              
      });
    }
    /*====================================================================================================
    –§—É–Ω–∫—Ü—ñ—è toggleActive     
    –î–æ–¥–∞—î –∫–ª–∞—Å open-active –µ–ª–µ–º–µ–Ω—Ç—É, —è–∫–∏–π –º–∞—î –∫–ª–∞—Å open (flex: 5;)
    –∫–ª–∞—Å –¥–æ–¥–∞—î—Ç—å—Å—è –º–µ—Ç–æ–¥–æ–º add(–Ω–µ toggle), —Ç–æ–º—É-—â–æ —Ñ—É–Ω–∫—Ü—ñ—è toggleActive –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ "transitionend", —è–∫–∏–π —Å–ø—Ä–∞—Ü—å–æ–≤—É—î 4 —Ä–∞–∑–∏ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∫–ª—ñ—Ü—ñ(4 transition –µ—Ñ–µ–∫—Ç–∏ –Ω–∞ panel, —è–∫–∏–π –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è) —ñ 8 —Ä–∞–∑ –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∫–ª—ñ–∫–∞—Ö(
    4 –Ω–∞ panel, —è–∫–∏–π –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è —ñ 4 –Ω–∞ panel, —è–∫–∏–π –∑–º–µ–Ω—à—É—î—Ç—å—Å—è). –û—Å–∫—ñ–ª—å–∫–∏ –º–µ—Ç–æ–¥ toggle –¥–æ–¥–∞—î –∫–ª–∞—Å(—è–∫—â–æ –π–æ–≥–æ –Ω–µ–º–∞—î) —ñ –∑–∞–±–∏—Ä–∞—î –∫–ª–∞—Å(—è–∫—â–æ —Ç–∞–∫–∏–π –≤–∂–µ —î –≤ –µ–ª–µ–º–µ–Ω—Ç–∞), —Ç–æ –≤ —Ç–∞–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É(–ø–∞—Ä–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–∫–ª–∏–∫—ñ–≤) –≤—ñ–Ω –±—É–¥–µ –¥–æ–¥–∞–≤–∞—Ç–∏ —ñ –≤—ñ–¥–Ω—ñ–º–∞—Ç–∏ –∫–ª–∞—Å open-active. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –∫–ª–∞—Å –Ω–µ –¥–æ–¥–∞—î—Ç—å—Å—è (4 –≤–∏–∫–ª–∏–∫–∏  +-+-  8 –≤–∏–∫–ª–∏–∫—ñ–≤ +-+-+-+-) 
    –í–∏—Å–Ω–æ–≤–æ–∫: –∫–æ–ª–∏ –ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–æ—Å—å "–Ω–∞–≤–º–∞–Ω–Ω—è"" —ñ "—Å—Ö–æ–¥—É"" –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–≤—à–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –º–µ—Ç–æ–¥—ñ–≤, –≤–æ–Ω–æ —ñ–Ω–æ–¥—ñ –Ω–∞–≤—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ. –Ø–∫–±–∏ –±—É–≤ 1 (3,5,7...) transition –µ—Ñ–µ–∫—Ç  --- –Ω–µ –±—É–ª–æ-–± –ø–æ—Ç—Ä–∞—á–µ–Ω–æ –º–Ω–æ—é –ª–∏—à–Ω—å–æ—ó –≥–æ–¥–∏–Ω–∏)) –∞–ª–µ —Ç–æ 
    "–Ω–∞–≤—á–∞–Ω–Ω—è" )))

    ====================================================================================================*/
    function toggleActive() {
      //console.log('test');  //—Ç—É—Ç —Ç–æ —ñ –≤–∏–ª—ñ–∑–ª–æ —â–æ –∑–∞–ø—É—Å–∫ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –¥–µ–∫—ñ–ª—å–∫–∞ —Ä–∞–∑         
      //console.log(this);     
        if (this.classList.contains('open')) {
          this.classList.add('open-active');          
        }
    }
  </script>
</body>
</html>
