!function(h){"use strict";function n(e,t){this.$select=h(e),this.$select.attr("data-placeholder")&&(t.nonSelectedText=this.$select.data("placeholder")),this.options=this.mergeOptions(h.extend({},t,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=h.proxy(this.options.onChange,this),this.options.onDropdownShow=h.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=h.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=h.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=h.proxy(this.options.onDropdownHidden,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&h("option",this.$select).length<=0&&this.disable(),this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions"],init:function(e,t,i,s,n){var o=h(e),l=ko.toJS(t());if(o.multiselect(l),i.has("options")){var r=i.get("options");ko.isObservable(r)&&ko.computed({read:function(){r(),setTimeout(function(){var e=o.data("multiselect");e&&e.updateOriginalOptions(),o.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:e})}if(i.has("value")){var a=i.get("value");ko.isObservable(a)&&ko.computed({read:function(){a(),setTimeout(function(){o.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(i.has("selectedOptions")){var c=i.get("selectedOptions");ko.isObservable(c)&&ko.computed({read:function(){c(),setTimeout(function(){o.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}ko.utils.domNodeDisposal.addDisposeCallback(e,function(){o.multiselect("destroy")})},update:function(e,t,i,s,n){var o=h(e),l=ko.toJS(t());o.multiselect("setOptions",l),o.multiselect("rebuild")}}),n.prototype={defaults:{buttonText:function(e,t){if(0===e.length)return this.nonSelectedText;if(this.allSelectedText&&e.length===h("option",h(t)).length&&1!==h("option",h(t)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+e.length+")":this.allSelectedText;if(e.length>this.numberDisplayed)return e.length+" "+this.nSelectedText;var i="",s=this.delimiterText;return e.each(function(){var e=void 0!==h(this).attr("label")?h(this).attr("label"):h(this).text();i+=e+s}),i.substr(0,i.length-2)},buttonTitle:function(e,t){if(0===e.length)return this.nonSelectedText;var i="",s=this.delimiterText;return e.each(function(){var e=void 0!==h(this).attr("label")?h(this).attr("label"):h(this).text();i+=e+s}),i.substr(0,i.length-2)},optionLabel:function(e){return h(e).attr("label")||h(e).text()},onChange:function(e,t){},onDropdownShow:function(e){},onDropdownHide:function(e){},onDropdownShown:function(e){},onDropdownHidden:function(e){},onSelectAll:function(){},enableHTML:!1,buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableClickableOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,delimiterText:", ",templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:n,buildContainer:function(){this.$container=h(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=h(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var e=this.$select.attr("tabindex");e&&this.$button.attr("tabindex",e),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=h(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(h.proxy(function(e,t){var i=h(t),s=i.prop("tagName").toLowerCase();i.prop("value")!==this.options.selectAllValue&&("optgroup"===s?this.createOptgroup(t):"option"===s&&("divider"===i.data("role")?this.createDivider():this.createOptionValue(t)))},this)),h("li input",this.$ul).on("change",h.proxy(function(e){var t=h(e.target),i=t.prop("checked")||!1,s=t.val()===this.options.selectAllValue;this.options.selectedClass&&(i?t.closest("li").addClass(this.options.selectedClass):t.closest("li").removeClass(this.options.selectedClass));var n=t.val(),o=this.getOptionByValue(n),l=h("option",this.$select).not(o),r=h("input",this.$container).not(t);if(s&&(i?this.selectAll():this.deselectAll()),s||(i?(o.prop("selected",!0),this.options.multiple?o.prop("selected",!0):(this.options.selectedClass&&h(r).closest("li").removeClass(this.options.selectedClass),h(r).prop("checked",!1),l.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&l.closest("a").css("outline","")):o.prop("selected",!1)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.onChange(o,i),this.options.preventInputChangeEvent)return!1},this)),h("li a",this.$ul).on("mousedown",function(e){if(e.shiftKey)return!1}),h("li a",this.$ul).on("touchstart click",h.proxy(function(e){e.stopPropagation();var t=h(e.target);if(e.shiftKey&&this.options.multiple){t.is("label")&&(e.preventDefault(),(t=t.find("input")).prop("checked",!t.prop("checked")));var i=t.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==t){var s=t.closest("li").index(),n=this.lastToggledInput.closest("li").index();if(n<s){var o=n;n=s,s=o}++n;var l=this.$ul.find("li").slice(s,n).find("input");l.prop("checked",i),this.options.selectedClass&&l.closest("li").toggleClass(this.options.selectedClass,i);for(var r=0,a=l.length;r<a;r++){var c=h(l[r]);this.getOptionByValue(c.val()).prop("selected",i)}}t.trigger("change")}t.is("input")&&!t.closest("li").is(".multiselect-item")&&(this.lastToggledInput=t),t.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",h.proxy(function(e){if(!h('input[type="text"]',this.$container).is(":focus"))if(9===e.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var t=h(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!t.length)return;var i=t.index(t.filter(":focus"));38===e.keyCode&&0<i?i--:40===e.keyCode&&i<t.length-1?i++:~i||(i=0);var s=t.eq(i);if(s.focus(),32===e.keyCode||13===e.keyCode){var n=s.find("input");n.prop("checked",!n.prop("checked")),n.change()}e.stopPropagation(),e.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&h("li.multiselect-group",this.$ul).on("click",h.proxy(function(e){e.stopPropagation();var t=h(e.target).parent().nextUntil("li.multiselect-group").filter(":visible:not(.disabled)"),i=!0,s=t.find("input");s.each(function(){i=i&&h(this).prop("checked")}),s.prop("checked",!i).trigger("change")},this))},createOptionValue:function(e){var t=h(e);t.is(":selected")&&t.prop("selected",!0);var i=this.options.optionLabel(e),s=t.val(),n=this.options.multiple?"checkbox":"radio",o=h(this.options.templates.li),l=h("label",o);l.addClass(n),this.options.enableHTML?l.html(" "+i):l.text(" "+i);var r=h("<input/>").attr("type",n);this.options.checkboxName&&r.attr("name",this.options.checkboxName),l.prepend(r);var a=t.prop("selected")||!1;r.val(s),s===this.options.selectAllValue&&(o.addClass("multiselect-item multiselect-all"),r.parent().parent().addClass("multiselect-all")),l.attr("title",t.attr("title")),this.$ul.append(o),t.is(":disabled")&&r.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),r.prop("checked",a),a&&this.options.selectedClass&&r.closest("li").addClass(this.options.selectedClass)},createDivider:function(e){var t=h(this.options.templates.divider);this.$ul.append(t)},createOptgroup:function(e){var t=h(e).prop("label"),i=h(this.options.templates.liGroup);this.options.enableHTML?h("label",i).html(t):h("label",i).text(t),this.options.enableClickableOptGroups&&i.addClass("multiselect-group-clickable"),this.$ul.append(i),h(e).is(":disabled")&&i.addClass("disabled"),h("option",e).each(h.proxy(function(e,t){this.createOptionValue(t)},this))},buildSelectAll:function(){if("number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString()),!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&h("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(h(this.options.templates.divider));var e=h(this.options.templates.li);h("label",e).addClass("checkbox"),this.options.enableHTML?h("label",e).html(" "+this.options.selectAllText):h("label",e).text(" "+this.options.selectAllText),this.options.selectAllName?h("label",e).prepend('<input type="checkbox" name="'+this.options.selectAllName+'" />'):h("label",e).prepend('<input type="checkbox" />');var t=h("input",e);t.val(this.options.selectAllValue),e.addClass("multiselect-item multiselect-all"),t.parent().parent().addClass("multiselect-all"),this.$ul.prepend(e),t.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var e=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=e){if(this.$filter=h(this.options.templates.filter),h("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var t=h(this.options.templates.filterClearBtn);t.on("click",h.proxy(function(e){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),h("li",this.$ul).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(t)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(e){e.stopPropagation()}).on("input keydown",h.proxy(function(e){13===e.which&&e.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(h.proxy(function(){var l,r;this.query!==e.target.value&&(this.query=e.target.value,h.each(h("li",this.$ul),h.proxy(function(e,t){var i=0<h("input",t).length?h("input",t).val():"",s=h("label",t).text(),n="";if("text"===this.options.filterBehavior?n=s:"value"===this.options.filterBehavior?n=i:"both"===this.options.filterBehavior&&(n=s+"\n"+i),i!==this.options.selectAllValue&&s){var o=!1;this.options.enableCaseInsensitiveFiltering&&-1<n.toLowerCase().indexOf(this.query.toLowerCase())?o=!0:-1<n.indexOf(this.query)&&(o=!0),h(t).toggle(o).toggleClass("filter-hidden",!o),h(t).hasClass("multiselect-group")?(l=t,r=o):(o&&h(l).show().removeClass("filter-hidden"),!o&&r&&h(t).show().removeClass("filter-hidden"))}},this)));this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){h("option",this.$select).each(h.proxy(function(e,t){var i=h("li input",this.$ul).filter(function(){return h(this).val()===h(t).val()});h(t).is(":selected")?(i.prop("checked",!0),this.options.selectedClass&&i.closest("li").addClass(this.options.selectedClass)):(i.prop("checked",!1),this.options.selectedClass&&i.closest("li").removeClass(this.options.selectedClass)),h(t).is(":disabled")?i.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):i.prop("disabled",!1).closest("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(e,t){h.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var s=e[i];if(null!=s){var n=this.getOptionByValue(s),o=this.getInputByValue(s);void 0!==n&&void 0!==o&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&o.closest("li").addClass(this.options.selectedClass),o.prop("checked",!0),n.prop("selected",!0),t&&this.options.onChange(n,!0))}}this.updateButtonText(),this.updateSelectAll()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(e,t){h.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var s=e[i];if(null!=s){var n=this.getOptionByValue(s),o=this.getInputByValue(s);void 0!==n&&void 0!==o&&(this.options.selectedClass&&o.closest("li").removeClass(this.options.selectedClass),o.prop("checked",!1),n.prop("selected",!1),t&&this.options.onChange(n,!1))}}this.updateButtonText(),this.updateSelectAll()},selectAll:function(e,t){e=void 0===e||e;var i=h("li input[type='checkbox']:enabled",this.$ul),s=i.filter(":visible"),n=i.length,o=s.length;if(e?(s.prop("checked",!0),h("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(i.prop("checked",!0),h("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),n===o||!1===e)h("option:enabled",this.$select).prop("selected",!0);else{var l=s.map(function(){return h(this).val()}).get();h("option:enabled",this.$select).filter(function(e){return-1!==h.inArray(h(this).val(),l)}).prop("selected",!0)}t&&this.options.onSelectAll()},deselectAll:function(e){if(e=void 0===e||e){var t=h("li input[type='checkbox']:not(:disabled)",this.$ul).filter(":visible");t.prop("checked",!1);var i=t.map(function(){return h(this).val()}).get();h("option:enabled",this.$select).filter(function(e){return-1!==h.inArray(h(this).val(),i)}).prop("selected",!1),this.options.selectedClass&&h("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else h("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),h("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&h("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&h("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(e){var s=0,n=this.$select.empty();h.each(e,function(e,t){var i;h.isArray(t.children)?(s++,i=h("<optgroup/>").attr({label:t.label||"Group "+s,disabled:!!t.disabled}),function(e,t){for(var i=0;i<e.length;++i)t(e[i],i)}(t.children,function(e){i.append(h("<option/>").attr({value:e.value,label:e.label||e.value,title:e.title,selected:!!e.selected,disabled:!!e.disabled}))})):i=h("<option/>").attr({value:t.value,label:t.label||t.value,title:t.title,selected:!!t.selected,disabled:!!t.disabled}),n.append(i)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(e){this.options=this.mergeOptions(e)},mergeOptions:function(e){return h.extend(!0,{},this.defaults,this.options,e)},hasSelectAll:function(){return 0<h("li.multiselect-all",this.$ul).length},updateSelectAll:function(){if(this.hasSelectAll()){var e=h("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),t=e.length,i=e.filter(":checked").length,s=h("li.multiselect-all",this.$ul),n=s.find("input");0<i&&i===t?(n.prop("checked",!0),s.addClass(this.options.selectedClass),this.options.onSelectAll()):(n.prop("checked",!1),s.removeClass(this.options.selectedClass))}},updateButtonText:function(){var e=this.getSelected();this.options.enableHTML?h(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(e,this.$select)):h(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(e,this.$select)),h(".multiselect",this.$container).attr("title",this.options.buttonTitle(e,this.$select))},getSelected:function(){return h("option",this.$select).filter(":selected")},getOptionByValue:function(e){for(var t=h("option",this.$select),i=e.toString(),s=0;s<t.length;s+=1){var n=t[s];if(n.value===i)return h(n)}},getInputByValue:function(e){for(var t=h("li input",this.$ul),i=e.toString(),s=0;s<t.length;s+=1){var n=t[s];if(n.value===i)return h(n)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(e,t,i){var s=Array.prototype.slice.call(arguments,3);return setTimeout(function(){e.apply(i||window,s)},t)},setAllSelectedText:function(e){this.options.allSelectedText=e,this.updateButtonText()}},h.fn.multiselect=function(t,i,s){return this.each(function(){var e=h(this).data("multiselect");e||(e=new n(this,"object"==typeof t&&t),h(this).data("multiselect",e)),"string"==typeof t&&(e[t](i,s),"destroy"===t&&h(this).data("multiselect",!1))})},h.fn.multiselect.Constructor=n,h(function(){h("select[data-role=multiselect]").multiselect()})}(window.jQuery),function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(E){"use strict";var h=["sanitize","whiteList","sanitizeFn"],l=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,a=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function g(e,t){var i=e.nodeName.toLowerCase();if(-1!==E.inArray(i,t))return-1===E.inArray(i,l)||Boolean(e.nodeValue.match(r)||e.nodeValue.match(a));for(var s=E(t).filter(function(e,t){return t instanceof RegExp}),n=0,o=s.length;n<o;n++)if(i.match(s[n]))return!0;return!1}function N(e,t,i){if(i&&"function"==typeof i)return i(e);for(var s=Object.keys(t),n=0,o=e.length;n<o;n++)for(var l=e[n].querySelectorAll("*"),r=0,a=l.length;r<a;r++){var c=l[r],h=c.nodeName.toLowerCase();if(-1!==s.indexOf(h))for(var d=[].slice.call(c.attributes),p=[].concat(t["*"]||[],t[h]||[]),u=0,f=d.length;u<f;u++){var m=d[u];g(m,p)||c.removeAttribute(m.nodeName)}else c.parentNode.removeChild(c)}}"classList"in document.createElement("_")||function(e){if("Element"in e){var t="classList",i="prototype",s=e.Element[i],n=Object,o=function(){var i=E(this);return{add:function(e){return i.addClass(e)},remove:function(e){return i.removeClass(e)},toggle:function(e,t){return i.toggleClass(e,t)},contains:function(e){return i.hasClass(e)}}};if(n.defineProperty){var l={get:o,enumerable:!0,configurable:!0};try{n.defineProperty(s,t,l)}catch(e){void 0!==e.number&&-2146823252!==e.number||(l.enumerable=!1,n.defineProperty(s,t,l))}}else n[i].__defineGetter__&&s.__defineGetter__(t,o)}}(window);var e,c,t,i=document.createElement("_");if(i.classList.toggle("c3",!1),i.classList.contains("c3")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:s.call(this,e)}}function C(e){var t,i=[],s=e.selectedOptions;if(e.multiple)for(var n=0,o=s.length;n<o;n++)t=s[n],i.push(t.value||t.text);else i=e.value;return i}i=null,String.prototype.startsWith||(e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),c={}.toString,t=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==c.call(e))throw new TypeError;var i=t.length,s=String(e),n=s.length,o=1<arguments.length?arguments[1]:void 0,l=o?Number(o):0;l!=l&&(l=0);var r=Math.min(Math.max(l,0),i);if(i<n+r)return!1;for(var a=-1;++a<n;)if(t.charCodeAt(r+a)!=s.charCodeAt(a))return!1;return!0},e?e(String.prototype,"startsWith",{value:t,configurable:!0,writable:!0}):String.prototype.startsWith=t),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")||Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var n={useDefault:!1,_set:E.valHooks.select.set};E.valHooks.select.set=function(e,t){return t&&!n.useDefault&&E(e).data("selected",!0),n._set.apply(this,arguments)};var S=null,o=function(){try{return new Event("change"),!0}catch(e){return!1}}();function y(e,t,i,s){for(var n=["content","subtext","tokens"],o=!1,l=0;l<n.length;l++){var r=n[l],a=e[r];if(a&&(a=a.toString(),"content"===r&&(a=a.replace(/<[^>]+>/g,"")),s&&(a=m(a)),a=a.toUpperCase(),o="contains"===i?0<=a.indexOf(t):a.startsWith(t)))break}return o}function A(e){return parseInt(e,10)||0}E.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(o?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var d={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},p=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,u=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function f(e){return d[e]}function m(e){return(e=e.toString())&&e.replace(p,f).replace(u,"")}var v,b,x,w,$,V=(v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=function(e){return v[e]},x="(?:"+Object.keys(v).join("|")+")",w=RegExp(x),$=RegExp(x,"g"),function(e){return e=null==e?"":""+e,w.test(e)?e.replace($,b):e}),k={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},D={success:!1,major:"3"};try{D.full=(E.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),D.major=D.full[0],D.success=!0}catch(e){console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e)}var I=0,T=".bs.select",U={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title"},O={MENU:"."+U.MENU};"4"===D.major&&(U.DIVIDER="dropdown-divider",U.SHOW="show",U.BUTTONCLASS="btn-light",U.POPOVERHEADER="popover-header");var G={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};G.a.setAttribute("role","option"),G.subtext.className="text-muted",G.text=G.span.cloneNode(!1),G.text.className="text";var z=new RegExp("38|40"),H=new RegExp("^9$|27"),j=function(e,t,i){var s=G.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?s.appendChild(e):s.innerHTML=e),void 0!==t&&""!==t&&(s.className=t),null!=i&&s.classList.add("optgroup-"+i),s},F=function(e,t,i){var s=G.a.cloneNode(!0);return e&&(11===e.nodeType?s.appendChild(e):s.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&(s.className=t),"4"===D.major&&s.classList.add("dropdown-item"),i&&s.setAttribute("style",i),s},_=function(e,t){var i,s,n=G.text.cloneNode(!1);if(e.optionContent)n.innerHTML=e.optionContent;else{if(n.textContent=e.text,e.optionIcon){var o=G.whitespace.cloneNode(!1);(s=(!0===t?G.i:G.span).cloneNode(!1)).className=e.iconBase+" "+e.optionIcon,G.fragment.appendChild(s),G.fragment.appendChild(o)}e.optionSubtext&&((i=G.subtext.cloneNode(!1)).textContent=e.optionSubtext,n.appendChild(i))}if(!0===t)for(;0<n.childNodes.length;)G.fragment.appendChild(n.childNodes[0]);else G.fragment.appendChild(n);return G.fragment},q=function(e){var t,i,s=G.text.cloneNode(!1);if(s.innerHTML=e.labelEscaped,e.labelIcon){var n=G.whitespace.cloneNode(!1);(i=G.span.cloneNode(!1)).className=e.iconBase+" "+e.labelIcon,G.fragment.appendChild(i),G.fragment.appendChild(n)}return e.labelSubtext&&((t=G.subtext.cloneNode(!1)).textContent=e.labelSubtext,s.appendChild(t)),G.fragment.appendChild(s),G.fragment},L=function(e,t){var i=this;n.useDefault||(E.valHooks.select.set=n._set,n.useDefault=!0),this.$element=E(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=t,this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var s=this.options.windowPadding;"number"==typeof s&&(this.options.windowPadding=[s,s,s,s]),this.val=L.prototype.val,this.render=L.prototype.render,this.refresh=L.prototype.refresh,this.setStyle=L.prototype.setStyle,this.selectAll=L.prototype.selectAll,this.deselectAll=L.prototype.deselectAll,this.destroy=L.prototype.destroy,this.remove=L.prototype.remove,this.show=L.prototype.show,this.hide=L.prototype.hide,this.init()};function P(e){var r,a=arguments,c=e;if([].shift.apply(a),!D.success){try{D.full=(E.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(e){D.full=L.BootstrapVersion.split(" ")[0].split(".")}D.major=D.full[0],D.success=!0,"4"===D.major&&(U.DIVIDER="dropdown-divider",U.SHOW="show",U.BUTTONCLASS="btn-light",L.DEFAULTS.style=U.BUTTONCLASS="btn-light",U.POPOVERHEADER="popover-header")}var t=this.each(function(){var e=E(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof c&&c;if(t){if(i)for(var s in i)i.hasOwnProperty(s)&&(t.options[s]=i[s])}else{var n=e.data();for(var o in n)n.hasOwnProperty(o)&&-1!==E.inArray(o,h)&&delete n[o];var l=E.extend({},L.DEFAULTS,E.fn.selectpicker.defaults||{},n,i);l.template=E.extend({},L.DEFAULTS.template,E.fn.selectpicker.defaults?E.fn.selectpicker.defaults.template:{},n.template,i.template),e.data("selectpicker",t=new L(this,l))}"string"==typeof c&&(r=t[c]instanceof Function?t[c].apply(t,a):t.options[c])}});return void 0!==r?r:t}L.VERSION="1.13.6",L.BootstrapVersion=D.major,L.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:U.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},"4"===D.major&&(L.DEFAULTS.style="btn-light",L.DEFAULTS.iconBase="",L.DEFAULTS.tickIcon="bs-ok-default"),L.prototype={constructor:L,init:function(){var i=this,e=this.$element.attr("id");this.selectId=I++,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(O.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(U.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+T,function(){if(i.isVirtual()){var e=i.$menuInner[0],t=e.firstChild.cloneNode(!1);e.replaceChild(t,e.firstChild),e.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){i.$menuInner.attr("aria-expanded",!1),i.$element.trigger("hide"+T,e)},"hidden.bs.dropdown":function(e){i.$element.trigger("hidden"+T,e)},"show.bs.dropdown":function(e){i.$menuInner.attr("aria-expanded",!0),i.$element.trigger("show"+T,e)},"shown.bs.dropdown":function(e){i.$element.trigger("shown"+T,e)}}),i.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){i.$button[0].classList.add("bs-invalid"),i.$element.on("shown"+T+".invalid",function(){i.$element.val(i.$element.val()).off("shown"+T+".invalid")}).on("rendered"+T,function(){this.validity.valid&&i.$button[0].classList.remove("bs-invalid"),i.$element.off("rendered"+T)}),i.$button.on("blur"+T,function(){i.$element.trigger("focus").trigger("blur"),i.$button.off("blur"+T)})}),setTimeout(function(){i.createLi(),i.$element.trigger("loaded"+T)})},createDropdown:function(){var e,t=this.multiple||this.options.showTick?" show-tick":"",i=this.autofocus?" autofocus":"",s="",n="",o="",l="";return this.options.header&&(s='<div class="'+U.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(n='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+V(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(o='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+U.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+U.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(l='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+U.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),e='<div class="dropdown bootstrap-select'+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+i+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===D.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+U.MENU+" "+("4"===D.major?"":U.SHOW)+'" role="combobox">'+s+n+o+'<div class="inner '+U.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+U.MENU+" inner "+("4"===D.major?U.SHOW:"")+'"></ul></div>'+l+"</div></div>",E(e)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(D,e){e=e||0;var z=this;this.selectpicker.current=D?this.selectpicker.search:this.selectpicker.main;var H,L,P=[];function i(e,t){var i,s,n,o,l,r,a,c,h,d,p=z.selectpicker.current.elements.length,u=[],f=!0,m=z.isVirtual();z.selectpicker.view.scrollTop=e,!0===m&&z.sizeInfo.hasScrollBar&&z.$menu[0].offsetWidth>z.sizeInfo.totalMenuWidth&&(z.sizeInfo.menuWidth=z.$menu[0].offsetWidth,z.sizeInfo.totalMenuWidth=z.sizeInfo.menuWidth+z.sizeInfo.scrollBarWidth,z.$menu.css("min-width",z.sizeInfo.menuWidth)),i=Math.ceil(z.sizeInfo.menuInnerHeight/z.sizeInfo.liHeight*1.5),s=Math.round(p/i)||1;for(var g=0;g<s;g++){var v=(g+1)*i;if(g===s-1&&(v=p),u[g]=[g*i+(g?1:0),v],!p)break;void 0===l&&e<=z.selectpicker.current.data[v-1].position-z.sizeInfo.menuInnerHeight&&(l=g)}if(void 0===l&&(l=0),r=[z.selectpicker.view.position0,z.selectpicker.view.position1],n=Math.max(0,l-1),o=Math.min(s-1,l+1),z.selectpicker.view.position0=Math.max(0,u[n][0])||0,z.selectpicker.view.position1=Math.min(p,u[o][1])||0,a=r[0]!==z.selectpicker.view.position0||r[1]!==z.selectpicker.view.position1,void 0!==z.activeIndex&&(L=z.selectpicker.current.elements[z.selectpicker.current.map.newIndex[z.prevActiveIndex]],P=z.selectpicker.current.elements[z.selectpicker.current.map.newIndex[z.activeIndex]],H=z.selectpicker.current.elements[z.selectpicker.current.map.newIndex[z.selectedIndex]],t&&(z.activeIndex!==z.selectedIndex&&P&&P.length&&(P.classList.remove("active"),P.firstChild&&P.firstChild.classList.remove("active")),z.activeIndex=void 0),z.activeIndex&&z.activeIndex!==z.selectedIndex&&H&&H.length&&(H.classList.remove("active"),H.firstChild&&H.firstChild.classList.remove("active"))),void 0!==z.prevActiveIndex&&z.prevActiveIndex!==z.activeIndex&&z.prevActiveIndex!==z.selectedIndex&&L&&L.length&&(L.classList.remove("active"),L.firstChild&&L.firstChild.classList.remove("active")),(t||a)&&(c=z.selectpicker.view.visibleElements?z.selectpicker.view.visibleElements.slice():[],z.selectpicker.view.visibleElements=z.selectpicker.current.elements.slice(z.selectpicker.view.position0,z.selectpicker.view.position1),z.setOptionStatus(),(D||!1===m&&t)&&(h=c,d=z.selectpicker.view.visibleElements,f=!(h.length===d.length&&h.every(function(e,t){return e===d[t]}))),(t||!0===m)&&f)){var b,x,w=z.$menuInner[0],$=document.createDocumentFragment(),I=w.firstChild.cloneNode(!1),y=!0===m?z.selectpicker.view.visibleElements:z.selectpicker.current.elements,k=[];w.replaceChild(I,w.firstChild),g=0;for(var C=y.length;g<C;g++){var S,T,O=y[g];z.options.sanitize&&(S=O.lastChild)&&(T=z.selectpicker.current.data[g+z.selectpicker.view.position0].data)&&T.content&&!T.sanitized&&(k.push(S),T.sanitized=!0),$.appendChild(O)}z.options.sanitize&&k.length&&N(k,z.options.whiteList,z.options.sanitizeFn),!0===m&&(b=0===z.selectpicker.view.position0?0:z.selectpicker.current.data[z.selectpicker.view.position0-1].position,x=z.selectpicker.view.position1>p-1?0:z.selectpicker.current.data[p-1].position-z.selectpicker.current.data[z.selectpicker.view.position1-1].position,w.firstChild.style.marginTop=b+"px",w.firstChild.style.marginBottom=x+"px"),w.firstChild.appendChild($)}if(z.prevActiveIndex=z.activeIndex,z.options.liveSearch){if(D&&t){var E,A=0;z.selectpicker.view.canHighlight[A]||(A=1+z.selectpicker.view.canHighlight.slice(1).indexOf(!0)),E=z.selectpicker.view.visibleElements[A],z.selectpicker.view.currentActive&&(z.selectpicker.view.currentActive.classList.remove("active"),z.selectpicker.view.currentActive.firstChild&&z.selectpicker.view.currentActive.firstChild.classList.remove("active")),E&&(E.classList.add("active"),E.firstChild&&E.firstChild.classList.add("active")),z.activeIndex=z.selectpicker.current.map.originalIndex[A]}}else z.$menuInner.trigger("focus")}this.setPositionData(),i(e,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){z.noScroll||i(this.scrollTop,t),z.noScroll=!1}),E(window).off("resize"+T+"."+this.selectId+".createView").on("resize"+T+"."+this.selectId+".createView",function(){z.$newElement.hasClass(U.SHOW)&&i(z.$menuInner[0].scrollTop)})},setPlaceholder:function(){var e=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=!0;var t=this.$element[0],i=!1,s=!this.selectpicker.view.titleOption.parentNode;s&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",i=void 0===E(t.options[t.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),(s||0!==this.selectpicker.view.titleOption.index)&&t.insertBefore(this.selectpicker.view.titleOption,t.firstChild),i&&(t.selectedIndex=0)}return e},createLi:function(){var e,t,i=this,s=i.options.iconBase,n=':not([hidden]):not([data-hidden="true"])',o=[],l=0,r=[],a=0,c=0,h=-1;this.options.hideDisabled&&(n+=":not(:disabled)"),(i.options.showTick||i.multiple)&&((e=G.span.cloneNode(!1)).className=s+" "+i.options.tickIcon+" check-mark",G.a.appendChild(e)),this.setPlaceholder()&&h--;for(var d=this.$element[0].options,p=0,u=d.length;p<u;p++){var f=d[p];if(h++,!f.classList.contains("bs-title-option")){var m,g,v,b,x={content:f.getAttribute("data-content"),tokens:f.getAttribute("data-tokens"),subtext:f.getAttribute("data-subtext"),icon:f.getAttribute("data-icon"),hidden:"true"===f.getAttribute("data-hidden"),divider:"true"===f.getAttribute("data-divider")},w=f.className||"",$=f.style.cssText,I=$?V($):"",y=x.content,k=f.textContent,C=f.parentNode,S=f.nextElementSibling,T=f.previousElementSibling,O="OPTGROUP"===C.tagName,E=O&&C.disabled,A=f.disabled||E,D=T&&"OPTGROUP"===T.tagName,z={hidden:"true"===C.getAttribute("data-hidden")};if(!0===x.hidden||f.hidden||O&&(!0===z.hidden||C.hidden)||i.options.hideDisabled&&(A||E))m=f.prevHiddenIndex,S&&(S.prevHiddenIndex=void 0!==m?m:p),h--;else{if(S&&void 0!==S.prevHiddenIndex&&(S.prevHiddenIndex=void 0),O&&!0!==x.divider){var H=" "+C.className||"",L=f.previousElementSibling;if(void 0!==(m=f.prevHiddenIndex)&&(L=d[m].previousElementSibling),!L){a+=1,z.subtext=C.getAttribute("data-subtext"),z.icon=C.getAttribute("data-icon");var P=C.label,N=V(P),B=z.subtext,M=z.icon;0!==p&&0<o.length&&(h++,o.push(j(!1,U.DIVIDER,a+"div")),r.push({type:"divider",optID:a})),h++,v=q({labelEscaped:N,labelSubtext:B,labelIcon:M,iconBase:s}),o.push(j(v,"dropdown-header"+H,a)),r.push({content:N,subtext:B,type:"optgroup-label",optID:a}),c=h-1}g=_({text:k,optionContent:y,optionSubtext:x.subtext,optionIcon:x.icon,iconBase:s}),o.push(j(F(g,"opt "+w+H,I),"",a)),r.push({content:y||k,subtext:x.subtext,tokens:x.tokens,type:"option",optID:a,headerIndex:c,lastIndex:c+C.querySelectorAll("option"+n).length,originalIndex:p,data:x})}else!0===x.divider?(o.push(j(!1,U.DIVIDER)),r.push({type:"divider",originalIndex:p,data:x})):(i.options.hideDisabled&&(D?T.querySelectorAll("option:disabled").length===T.children.length&&(D=!1):void 0!==(m=f.prevHiddenIndex)&&(b=d[m].previousElementSibling)&&"OPTGROUP"===b.tagName&&!b.disabled&&b.querySelectorAll("option:disabled").length<b.children.length&&(D=!0)),D&&r.length&&"divider"!==r[r.length-1].type&&(h++,o.push(j(!1,U.DIVIDER,a+"div")),r.push({type:"divider",optID:a})),g=_({text:k,optionContent:y,optionSubtext:x.subtext,optionIcon:x.icon,iconBase:s}),o.push(j(F(g,w,I))),r.push({content:y||k,subtext:x.subtext,tokens:x.tokens,type:"option",originalIndex:p,data:x}));i.selectpicker.main.map.newIndex[p]=h,i.selectpicker.main.map.originalIndex[h]=p;var R=r[r.length-1];R.disabled=A;var W=0;R.content&&(W+=R.content.length),R.subtext&&(W+=R.subtext.length),x.icon&&(W+=1),l<W&&(l=W,t=o[o.length-1])}}}this.selectpicker.main.elements=o,this.selectpicker.main.data=r,this.selectpicker.current=this.selectpicker.main,this.selectpicker.view.widestOption=t},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var e,t,i=this,s=this.$element[0].selectedOptions,n=s.length,o=this.$button.find(".filter-option-inner-inner")[0],l=document.createTextNode(this.options.multipleSeparator),r=G.fragment.cloneNode(!1),a=!1;if(this.togglePlaceholder(),this.tabIndex(),"static"===this.options.selectedTextFormat)r=_({text:this.options.title},!0);else if((e=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<n)&&(e=1<(t=this.options.selectedTextFormat.split(">")).length&&n>t[1]||1===t.length&&2<=n),!1===e){for(var c=0;c<n&&c<50;c++){var h=s[c],d={},p={content:h.getAttribute("data-content"),subtext:h.getAttribute("data-subtext"),icon:h.getAttribute("data-icon")};this.multiple&&0<c&&r.appendChild(l.cloneNode(!1)),h.title?d.text=h.title:p.content&&i.options.showContent?(d.optionContent=p.content.toString(),a=!0):(i.options.showIcon&&(d.optionIcon=p.icon,d.iconBase=this.options.iconBase),i.options.showSubtext&&!i.multiple&&p.subtext&&(d.optionSubtext=" "+p.subtext),d.text=h.textContent.trim()),r.appendChild(_(d,!0))}49<n&&r.appendChild(document.createTextNode("..."))}else{var u=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(u+=":not(:disabled)");var f=this.$element[0].querySelectorAll("select > option"+u+", optgroup"+u+" option"+u).length,m="function"==typeof this.options.countSelectedText?this.options.countSelectedText(n,f):this.options.countSelectedText;r=_({text:m.replace("{0}",n.toString()).replace("{1}",f.toString())},!0)}null==this.options.title&&(this.options.title=this.$element.attr("title")),r.childNodes.length||(r=_({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),this.$button[0].title=r.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&a&&N([r],i.options.whiteList,i.options.sanitizeFn),o.innerHTML="",o.appendChild(r),this.$element.trigger("rendered"+T)},setStyle:function(e,t){var i=this.$button[0];this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var s=e||this.options.style;"add"==t?i.classList.add(s):"remove"==t?i.classList.remove(s):(i.classList.remove(this.options.style),i.classList.add(s))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var t=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),n=document.createElement("ul"),o=document.createElement("li"),l=document.createElement("li"),r=document.createElement("li"),a=document.createElement("a"),c=document.createElement("span"),h=this.options.header&&0<this.$menu.find("."+U.POPOVERHEADER).length?this.$menu.find("."+U.POPOVERHEADER)[0].cloneNode(!0):null,d=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,f=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,c.className="text",a.className="dropdown-item "+(f?f.className:""),t.className=this.$menu[0].parentNode.className+" "+U.SHOW,t.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(i.style.minWidth=0),i.className=U.MENU+" "+U.SHOW,s.className="inner "+U.SHOW,n.className=U.MENU+" inner "+("4"===D.major?U.SHOW:""),o.className=U.DIVIDER,l.className="dropdown-header",c.appendChild(document.createTextNode("​")),a.appendChild(c),r.appendChild(a),l.appendChild(c.cloneNode(!0)),this.selectpicker.view.widestOption&&n.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),n.appendChild(r),n.appendChild(o),n.appendChild(l),h&&i.appendChild(h),d){var m=document.createElement("input");d.className="bs-searchbox",m.className="form-control",d.appendChild(m),i.appendChild(d)}p&&i.appendChild(p),s.appendChild(n),i.appendChild(s),u&&i.appendChild(u),t.appendChild(i),document.body.appendChild(t);var g,v=a.offsetHeight,b=l?l.offsetHeight:0,x=h?h.offsetHeight:0,w=d?d.offsetHeight:0,$=p?p.offsetHeight:0,I=u?u.offsetHeight:0,y=E(o).outerHeight(!0),k=!!window.getComputedStyle&&window.getComputedStyle(i),C=i.offsetWidth,S=k?null:E(i),T={vert:A(k?k.paddingTop:S.css("paddingTop"))+A(k?k.paddingBottom:S.css("paddingBottom"))+A(k?k.borderTopWidth:S.css("borderTopWidth"))+A(k?k.borderBottomWidth:S.css("borderBottomWidth")),horiz:A(k?k.paddingLeft:S.css("paddingLeft"))+A(k?k.paddingRight:S.css("paddingRight"))+A(k?k.borderLeftWidth:S.css("borderLeftWidth"))+A(k?k.borderRightWidth:S.css("borderRightWidth"))},O={vert:T.vert+A(k?k.marginTop:S.css("marginTop"))+A(k?k.marginBottom:S.css("marginBottom"))+2,horiz:T.horiz+A(k?k.marginLeft:S.css("marginLeft"))+A(k?k.marginRight:S.css("marginRight"))+2};s.style.overflowY="scroll",g=i.offsetWidth-C,document.body.removeChild(t),this.sizeInfo.liHeight=v,this.sizeInfo.dropdownHeaderHeight=b,this.sizeInfo.headerHeight=x,this.sizeInfo.searchHeight=w,this.sizeInfo.actionsHeight=$,this.sizeInfo.doneButtonHeight=I,this.sizeInfo.dividerHeight=y,this.sizeInfo.menuPadding=T,this.sizeInfo.menuExtras=O,this.sizeInfo.menuWidth=C,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=g,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,t=E(window),i=this.$newElement.offset(),s=E(this.options.container);this.options.container&&s.length&&!s.is("body")?((e=s.offset()).top+=parseInt(s.css("borderTopWidth")),e.left+=parseInt(s.css("borderLeftWidth"))):e={top:0,left:0};var n=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-t.scrollTop(),this.sizeInfo.selectOffsetBot=t.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-n[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-t.scrollLeft(),this.sizeInfo.selectOffsetRight=t.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-n[1],this.sizeInfo.selectOffsetTop-=n[0],this.sizeInfo.selectOffsetLeft-=n[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,s,n,o,l,r,a=this.sizeInfo.selectWidth,c=this.sizeInfo.liHeight,h=this.sizeInfo.headerHeight,d=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,f=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,g=0;if(this.options.dropupAuto&&(r=c*this.selectpicker.current.elements.length+m.vert,this.$newElement.toggleClass(U.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&r+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)n=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,s=n+h+d+p+u,l=Math.max(n-m.vert,0),this.$newElement.hasClass(U.DROPUP)&&(i=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),t=(o=i)-h-d-p-u-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var v=0;v<this.options.size;v++)"divider"===this.selectpicker.current.data[v].type&&g++;t=(i=c*this.options.size+g*f+m.vert)-m.vert,o=i+h+d+p+u,s=l=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(U.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-a),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":s+"px"}),this.$menuInner.css({"max-height":t+"px","overflow-y":"auto","min-height":l+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){if(this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var t,i=this,s=E(window),n=0;this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return i.setMenuSize()}),"auto"===this.options.size?s.off("resize"+T+"."+this.selectId+".setMenuSize scroll"+T+"."+this.selectId+".setMenuSize").on("resize"+T+"."+this.selectId+".setMenuSize scroll"+T+"."+this.selectId+".setMenuSize",function(){return i.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&s.off("resize"+T+"."+this.selectId+".setMenuSize scroll"+T+"."+this.selectId+".setMenuSize"),e?n=this.$menuInner[0].scrollTop:i.multiple||"number"==typeof(t=i.selectpicker.main.map.newIndex[i.$element[0].selectedIndex])&&!1!==i.options.size&&(n=(n=i.sizeInfo.liHeight*t)-i.sizeInfo.menuInnerHeight/2+i.sizeInfo.liHeight/2),i.createView(!1,n)}},setWidth:function(){var i=this;"auto"===this.options.width?requestAnimationFrame(function(){i.$menu.css("min-width","0"),i.liHeight(),i.setMenuSize();var e=i.$newElement.clone().appendTo("body"),t=e.css("width","auto").children("button").outerWidth();e.remove(),i.sizeInfo.selectWidth=Math.max(i.sizeInfo.totalMenuWidth,t),i.$newElement.css("width",i.sizeInfo.selectWidth+"px")}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=E('<div class="bs-container" />');var s,n,o,l=this,r=E(this.options.container),e=function(e){var t={},i=l.options.display||!!E.fn.dropdown.Constructor.Default&&E.fn.dropdown.Constructor.Default.display;l.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(U.DROPUP,e.hasClass(U.DROPUP)),s=e.offset(),r.is("body")?n={top:0,left:0}:((n=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),n.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),o=e.hasClass(U.DROPUP)?0:e[0].offsetHeight,(D.major<4||"static"===i)&&(t.top=s.top-n.top+o,t.left=s.left-n.left),t.width=e[0].offsetWidth,l.$bsContainer.css(t)};this.$button.on("click.bs.dropdown.data-api",function(){l.isDisabled()||(e(l.$newElement),l.$bsContainer.appendTo(l.options.container).toggleClass(U.SHOW,!l.$button.hasClass(U.SHOW)).append(l.$menu))}),E(window).off("resize"+T+"."+this.selectId+" scroll"+T+"."+this.selectId).on("resize"+T+"."+this.selectId+" scroll"+T+"."+this.selectId,function(){l.$newElement.hasClass(U.SHOW)&&e(l.$newElement)}),this.$element.on("hide"+T,function(){l.$menu.data("height",l.$menu.height()),l.$bsContainer.detach()})},setOptionStatus:function(){var e=this,t=this.$element[0].options;if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var i=0;i<e.selectpicker.view.visibleElements.length;i++){var s=e.selectpicker.current.map.originalIndex[i+e.selectpicker.view.position0],n=t[s];if(n){var o=this.selectpicker.main.map.newIndex[s],l=this.selectpicker.main.elements[o];e.setDisabled(s,n.disabled||"OPTGROUP"===n.parentNode.tagName&&n.parentNode.disabled,o,l),e.setSelected(s,n.selected,o,l)}}},setSelected:function(e,t,i,s){var n,o,l,r=void 0!==this.activeIndex,a=this.activeIndex===e||t&&!this.multiple&&!r;i||(i=this.selectpicker.main.map.newIndex[e]),s||(s=this.selectpicker.main.elements[i]),l=s.firstChild,t&&(this.selectedIndex=e),s.classList.toggle("selected",t),s.classList.toggle("active",a),a&&(this.selectpicker.view.currentActive=s,this.activeIndex=e),l&&(l.classList.toggle("selected",t),l.classList.toggle("active",a),l.setAttribute("aria-selected",t)),a||!r&&t&&void 0!==this.prevActiveIndex&&(n=this.selectpicker.main.map.newIndex[this.prevActiveIndex],(o=this.selectpicker.main.elements[n]).classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active"))},setDisabled:function(e,t,i,s){var n;i||(i=this.selectpicker.main.map.newIndex[e]),s||(s=this.selectpicker.main.elements[i]),n=s.firstChild,s.classList.toggle(U.DISABLED,t),n&&("4"===D.major&&n.classList.toggle(U.DISABLED,t),n.setAttribute("aria-disabled",t),t?n.setAttribute("tabindex",-1):n.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement[0].classList.add(U.DISABLED),this.$button.addClass(U.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(U.DISABLED)&&(this.$newElement[0].classList.remove(U.DISABLED),this.$button.removeClass(U.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element[0],t=e.selectedIndex,i=-1===t;i||e.options[t].value||(i=!0),this.$button.toggleClass("bs-placeholder",i)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var k=this,t=E(document);function e(){k.options.liveSearch?k.$searchbox.trigger("focus"):k.$menuInner.trigger("focus")}function i(){k.dropdown&&k.dropdown._popper&&k.dropdown._popper.state.isCreated?e():requestAnimationFrame(i)}t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<D.major&&!k.dropdown&&(k.dropdown=k.$button.data("bs.dropdown"),k.dropdown._menu=k.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){k.$newElement.hasClass(U.SHOW)||k.setSize()}),this.$element.on("shown"+T,function(){k.$menuInner[0].scrollTop!==k.selectpicker.view.scrollTop&&(k.$menuInner[0].scrollTop=k.selectpicker.view.scrollTop),3<D.major?requestAnimationFrame(i):e()}),this.$menuInner.on("click","li a",function(e,t){var i=E(this),s=k.isVirtual()?k.selectpicker.view.position0:0,n=k.selectpicker.current.map.originalIndex[i.parent().index()+s],o=C(k.$element[0]),l=k.$element.prop("selectedIndex"),r=!0;if(k.multiple&&1!==k.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!k.isDisabled()&&!i.parent().hasClass(U.DISABLED)){var a=k.$element.find("option"),c=a.eq(n),h=c.prop("selected"),d=c.parent("optgroup"),p=d.find("option"),u=k.options.maxOptions,f=d.data("maxOptions")||!1;if(n===k.activeIndex&&(t=!0),t||(k.prevActiveIndex=k.activeIndex,k.activeIndex=void 0),k.multiple){if(c.prop("selected",!h),k.setSelected(n,!h),i.trigger("blur"),!1!==u||!1!==f){var m=u<a.filter(":selected").length,g=f<d.find("option:selected").length;if(u&&m||f&&g)if(u&&1==u){a.prop("selected",!1),c.prop("selected",!0);for(var v=0;v<a.length;v++)k.setSelected(v,!1);k.setSelected(n,!0)}else if(f&&1==f){for(d.find("option:selected").prop("selected",!1),c.prop("selected",!0),v=0;v<p.length;v++){var b=p[v];k.setSelected(a.index(b),!1)}k.setSelected(n,!0)}else{var x="string"==typeof k.options.maxOptionsText?[k.options.maxOptionsText,k.options.maxOptionsText]:k.options.maxOptionsText,w="function"==typeof x?x(u,f):x,$=w[0].replace("{n}",u),I=w[1].replace("{n}",f),y=E('<div class="notify"></div>');w[2]&&($=$.replace("{var}",w[2][1<u?0:1]),I=I.replace("{var}",w[2][1<f?0:1])),c.prop("selected",!1),k.$menu.append(y),u&&m&&(y.append(E("<div>"+$+"</div>")),r=!1,k.$element.trigger("maxReached"+T)),f&&g&&(y.append(E("<div>"+I+"</div>")),r=!1,k.$element.trigger("maxReachedGrp"+T)),setTimeout(function(){k.setSelected(n,!1)},10),y.delay(750).fadeOut(300,function(){E(this).remove()})}}}else a.prop("selected",!1),c.prop("selected",!0),k.setSelected(n,!0);!k.multiple||k.multiple&&1===k.options.maxOptions?k.$button.trigger("focus"):k.options.liveSearch&&k.$searchbox.trigger("focus"),r&&(o!=C(k.$element[0])&&k.multiple||l!=k.$element.prop("selectedIndex")&&!k.multiple)&&(S=[n,c.prop("selected"),o],k.$element.triggerNative("change"))}}),this.$menu.on("click","li."+U.DISABLED+" a, ."+U.POPOVERHEADER+", ."+U.POPOVERHEADER+" :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),k.options.liveSearch&&!E(e.target).hasClass("close")?k.$searchbox.trigger("focus"):k.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),k.options.liveSearch?k.$searchbox.trigger("focus"):k.$button.trigger("focus")}),this.$menu.on("click","."+U.POPOVERHEADER+" .close",function(){k.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){k.options.liveSearch?k.$searchbox.trigger("focus"):k.$button.trigger("focus"),e.preventDefault(),e.stopPropagation(),E(this).hasClass("bs-select-all")?k.selectAll():k.deselectAll()}),this.$element.on({change:function(){k.render(),k.$element.trigger("changed"+T,S),S=null},focus:function(){k.options.mobile||k.$button.trigger("focus")}})},liveSearchListener:function(){var u=this,f=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){u.$searchbox.val()&&u.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var e=u.$searchbox.val();if(u.selectpicker.search.map.newIndex={},u.selectpicker.search.map.originalIndex={},u.selectpicker.search.elements=[],u.selectpicker.search.data=[],e){var t=[],i=e.toUpperCase(),s={},n=[],o=u._searchStyle(),l=u.options.liveSearchNormalize;l&&(i=m(i)),u._$lisSelected=u.$menuInner.find(".selected");for(var r=0;r<u.selectpicker.main.data.length;r++){var a=u.selectpicker.main.data[r];s[r]||(s[r]=y(a,i,o,l)),s[r]&&void 0!==a.headerIndex&&-1===n.indexOf(a.headerIndex)&&(0<a.headerIndex&&(s[a.headerIndex-1]=!0,n.push(a.headerIndex-1)),s[a.headerIndex]=!0,n.push(a.headerIndex),s[a.lastIndex+1]=!0),s[r]&&"optgroup-label"!==a.type&&n.push(r)}r=0;for(var c=n.length;r<c;r++){var h=n[r],d=n[r-1],p=(a=u.selectpicker.main.data[h],u.selectpicker.main.data[d]);("divider"!==a.type||"divider"===a.type&&p&&"divider"!==p.type&&c-1!==r)&&(u.selectpicker.search.data.push(a),t.push(u.selectpicker.main.elements[h]),a.hasOwnProperty("originalIndex")&&(u.selectpicker.search.map.newIndex[a.originalIndex]=t.length-1,u.selectpicker.search.map.originalIndex[t.length-1]=a.originalIndex))}u.activeIndex=void 0,u.noScroll=!0,u.$menuInner.scrollTop(0),u.selectpicker.search.elements=t,u.createView(!0),t.length||(f.className="no-results",f.innerHTML=u.options.noneResultsText.replace("{0}",'"'+V(e)+'"'),u.$menuInner[0].firstChild.appendChild(f))}else u.$menuInner.scrollTop(0),u.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){return void 0!==e?(this.$element.val(e).triggerNative("change"),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=t.options,s=0,n=0,o=C(t);t.classList.add("bs-select-hidden");for(var l=0,r=this.selectpicker.current.elements.length;l<r;l++){var a=this.selectpicker.current.data[l],c=i[this.selectpicker.current.map.originalIndex[l]];c&&!c.disabled&&"divider"!==a.type&&(c.selected&&s++,(c.selected=e)&&n++)}t.classList.remove("bs-select-hidden"),s!==n&&(this.setOptionStatus(),this.togglePlaceholder(),S=[null,null,o],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var t,i,s,n,o,l=E(this),r=l.hasClass("dropdown-toggle"),a=(r?l.closest(".dropdown"):l.closest(O.MENU)).data("this"),c=a.findLis(),h=!1,d=9===e.which&&!r&&!a.options.selectOnTab,p=z.test(e.which)||d,u=a.$menuInner[0].scrollTop,f=a.isVirtual(),m=!0===f?a.selectpicker.view.position0:0;if(!(i=a.$newElement.hasClass(U.SHOW))&&(p||48<=e.which&&e.which<=57||96<=e.which&&e.which<=105||65<=e.which&&e.which<=90)&&(a.$button.trigger("click.bs.dropdown.data-api"),a.options.liveSearch))a.$searchbox.trigger("focus");else{if(27===e.which&&i&&(e.preventDefault(),a.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),p){if(!c.length)return;void 0===(t=!0===f?c.index(c.filter(".active")):a.selectpicker.current.map.newIndex[a.activeIndex])&&(t=-1),-1!==t&&((s=a.selectpicker.current.elements[t+m]).classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active")),38===e.which?(-1!==t&&t--,t+m<0&&(t+=c.length),a.selectpicker.view.canHighlight[t+m]||-1==(t=a.selectpicker.view.canHighlight.slice(0,t+m).lastIndexOf(!0)-m)&&(t=c.length-1)):(40===e.which||d)&&(++t+m>=a.selectpicker.view.canHighlight.length&&(t=0),a.selectpicker.view.canHighlight[t+m]||(t=t+1+a.selectpicker.view.canHighlight.slice(t+m+1).indexOf(!0))),e.preventDefault();var g=m+t;38===e.which?0===m&&t===c.length-1?(a.$menuInner[0].scrollTop=a.$menuInner[0].scrollHeight,g=a.selectpicker.current.elements.length-1):h=(o=(n=a.selectpicker.current.data[g]).position-n.height)<u:(40===e.which||d)&&(0===t?g=a.$menuInner[0].scrollTop=0:h=u<(o=(n=a.selectpicker.current.data[g]).position-a.sizeInfo.menuInnerHeight)),(s=a.selectpicker.current.elements[g])&&(s.classList.add("active"),s.firstChild&&s.firstChild.classList.add("active")),a.activeIndex=a.selectpicker.current.map.originalIndex[g],a.selectpicker.view.currentActive=s,h&&(a.$menuInner[0].scrollTop=o),a.options.liveSearch?a.$searchbox.trigger("focus"):l.trigger("focus")}else if(!l.is("input")&&!H.test(e.which)||32===e.which&&a.selectpicker.keydown.keyHistory){var v,b,x=[];e.preventDefault(),a.selectpicker.keydown.keyHistory+=k[e.which],a.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(a.selectpicker.keydown.resetKeyHistory.cancel),a.selectpicker.keydown.resetKeyHistory.cancel=a.selectpicker.keydown.resetKeyHistory.start(),b=a.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(b)&&(b=b.charAt(0));for(var w=0;w<a.selectpicker.current.data.length;w++){var $=a.selectpicker.current.data[w];y($,b,"startsWith",!0)&&a.selectpicker.view.canHighlight[w]&&($.index=w,x.push($.originalIndex))}if(x.length){var I=0;c.removeClass("active").find("a").removeClass("active"),1===b.length&&(-1===(I=x.indexOf(a.activeIndex))||I===x.length-1?I=0:I++),v=a.selectpicker.current.map.newIndex[x[I]],h=0<u-(n=a.selectpicker.current.data[v]).position?(o=n.position-n.height,!0):(o=n.position-a.sizeInfo.menuInnerHeight,n.position>u+a.sizeInfo.menuInnerHeight),(s=a.selectpicker.current.elements[v]).classList.add("active"),s.firstChild&&s.firstChild.classList.add("active"),a.activeIndex=x[I],s.firstChild.trigger("focus"),h&&(a.$menuInner[0].scrollTop=o),l.trigger("focus")}}i&&(32===e.which&&!a.selectpicker.keydown.keyHistory||13===e.which||9===e.which&&a.options.selectOnTab)&&(32!==e.which&&e.preventDefault(),a.options.liveSearch&&32===e.which||(a.$menuInner.find(".active a").trigger("click",!0),l.trigger("focus"),a.options.liveSearch||(e.preventDefault(),E(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var e=E.extend({},this.options,this.$element.data());this.options=e,this.selectpicker.main.map.newIndex={},this.selectpicker.main.map.originalIndex={},this.checkDisabled(),this.render(),this.createLi(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+T)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(T).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),E(window).off(T+"."+this.selectId)}};var B=E.fn.selectpicker;E.fn.selectpicker=P,E.fn.selectpicker.Constructor=L,E.fn.selectpicker.noConflict=function(){return E.fn.selectpicker=B,this},E(document).off("keydown.bs.dropdown.data-api").on("keydown"+T,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',L.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),E(window).on("load"+T+".data-api",function(){E(".selectpicker").each(function(){var e=E(this);P.call(e,e.data())})})}(e)}),function(a,e,n,l){function r(e,t){return Math.max(0,e[0]-t[0],t[0]-e[1])+Math.max(0,e[2]-t[1],t[1]-e[3])}function t(e,t,i,s){var n=e.length;for(s=s?"offset":"position",i=i||0;n--;){var o=e[n].el?e[n].el:a(e[n]),l=o[s]();l.left+=parseInt(o.css("margin-left"),10),l.top+=parseInt(o.css("margin-top"),10),t[n]=[l.left-i,l.left+o.outerWidth()+i,l.top-i,l.top+o.outerHeight()+i]}}function c(e,t){var i=t.offset();return{left:e.left-i.left,top:e.top-i.top}}function h(e,t,i){t=[t.left,t.top],i=i&&[i.left,i.top];for(var s,n=e.length,o=[];n--;)s=e[n],o[n]=[n,r(s,t),i&&r(s,i)];return o.sort(function(e,t){return t[1]-e[1]||t[2]-e[2]||t[0]-e[0]})}function s(e){this.options=a.extend({},u,e),this.containers=[],this.options.rootGroup||(this.scrollProxy=a.proxy(this.scroll,this),this.dragProxy=a.proxy(this.drag,this),this.dropProxy=a.proxy(this.drop,this),this.placeholder=a(this.options.placeholder),e.isValidTarget||(this.options.isValidTarget=l))}function o(e,t){this.el=e,this.options=a.extend({},p,t),this.group=s.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var i=this.rootGroup.options.itemPath;this.target=i?this.el.find(i):this.el,this.target.on(d.start,this.handle,a.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var d,p={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},u={afterMove:function(e,t,i){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(e,t){return!0},onCancel:function(e,t,i,s){},onDrag:function(e,t,i,s){e.css(t)},onDragStart:function(e,t,i,s){e.css({height:e.outerHeight(),width:e.outerWidth()}),e.addClass(t.group.options.draggedClass),a("body").addClass(t.group.options.bodyClass)},onDrop:function(e,t,i,s){e.removeClass(t.group.options.draggedClass).removeAttr("style"),a("body").removeClass(t.group.options.bodyClass)},onMousedown:function(e,t,i){if(!i.target.nodeName.match(/^(input|select|textarea)$/i))return i.preventDefault(),!0},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(e,t,i){return e=a.extend({},e.data()),i?[t]:(t[0]&&(e.children=t),delete e.subContainers,delete e.sortable,e)},tolerance:0},i={},f=0,m={left:0,top:0,bottom:0,right:0};d={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},s.get=function(e){return i[e.group]||(e.group===l&&(e.group=f++),i[e.group]=new s(e)),i[e.group]},s.prototype={dragInit:function(e,t){this.$document=a(t.el[0].ownerDocument);var i=a(e.target).closest(this.options.itemSelector);i.length&&(this.item=i,this.itemContainer=t,!this.item.is(this.options.exclude)&&this.options.onMousedown(this.item,u.onMousedown,e)&&(this.setPointer(e),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0))},drag:function(e){if(!this.dragging){if(!this.distanceMet(e)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,u.onDragStart,e),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(e),this.options.onDrag(this.item,c(this.pointer,this.item.offsetParent()),u.onDrag,e),e=this.getPointer(e);var t=this.sameResultBox,i=this.options.tolerance;(!t||t.top-i>e.top||t.bottom+i<e.top||t.left-i>e.left||t.right+i<e.left)&&!this.searchValidTarget()&&(this.placeholder.detach(),this.lastAppendedItem=l)},drop:function(e){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,u.onCancel,e),this.options.onDrop(this.item,this.getContainer(this.item),u.onDrop,e),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=l,this.dragging=!1)},searchValidTarget:function(e,t){e||(e=this.relativePointer||this.pointer,t=this.lastRelativePointer||this.lastPointer);for(var i=h(this.getContainerDimensions(),e,t),s=i.length;s--;){var n=i[s][0];if((!i[s][1]||this.options.pullPlaceholder)&&!(n=this.containers[n]).disabled){if(!this.$getOffsetParent()){var o=n.getItemOffsetParent();e=c(e,o),t=c(t,o)}if(n.searchValidTarget(e,t))return!0}}this.sameResultBox&&(this.sameResultBox=l)},movePlaceholder:function(e,t,i,s){var n=this.lastAppendedItem;!s&&n&&n[0]===t[0]||(t[i](this.placeholder),this.lastAppendedItem=t,this.sameResultBox=s,this.options.afterMove(this.placeholder,e,t))},getContainerDimensions:function(){return this.containerDimensions||t(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(e){return e.closest(this.options.containerSelector).data(n)},$getOffsetParent:function(){if(this.offsetParent===l){var e=this.containers.length-1,t=this.containers[e].getItemOffsetParent();if(!this.options.rootGroup)for(;e--;)if(t[0]!=this.containers[e].getItemOffsetParent()[0]){t=!1;break}this.offsetParent=t}return this.offsetParent},setPointer:function(e){if(e=this.getPointer(e),this.$getOffsetParent()){var t=c(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=t}this.lastPointer=this.pointer,this.pointer=e},distanceMet:function(e){return e=this.getPointer(e),Math.max(Math.abs(this.pointer.left-e.left),Math.abs(this.pointer.top-e.top))>=this.options.distance},getPointer:function(e){var t=e.originalEvent||e.originalEvent.touches&&e.originalEvent.touches[0];return{left:e.pageX||t.pageX,top:e.pageY||t.pageY}},setupDelayTimer:function(){var e=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){e.delayMet=!0},this.options.delay))},scroll:function(e){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(i){var s=this;a.each(["drag","drop","scroll"],function(e,t){s.$document[i](d[t],s[t+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=l},clearDimensions:function(){this.traverse(function(e){e._clearDimensions()})},traverse:function(e){e(this);for(var t=this.containers.length;t--;)this.containers[t].traverse(e)},_clearDimensions:function(){this.containerDimensions=l},_destroy:function(){i[this.options.group]=l}},o.prototype={dragInit:function(e){var t=this.rootGroup;!this.disabled&&!t.dragInitDone&&this.options.drag&&this.isValidDrag(e)&&t.dragInit(e,this)},isValidDrag:function(e){return 1==e.which||"touchstart"==e.type&&1==e.originalEvent.touches.length},searchValidTarget:function(e,t){var i=h(this.getItemDimensions(),e,t),s=i.length,n=this.rootGroup,o=!n.options.isValidTarget||n.options.isValidTarget(n.item,this);if(!s&&o)return n.movePlaceholder(this,this.target,"append"),!0;for(;s--;)if(n=i[s][0],!i[s][1]&&this.hasChildGroup(n)){if(this.getContainerGroup(n).searchValidTarget(e,t))return!0}else if(o)return this.movePlaceholder(n,e),!0},movePlaceholder:function(e,t){var i=a(this.items[e]),s=this.itemDimensions[e],n="after",o=i.outerWidth(),l=i.outerHeight(),r={left:(r=i.offset()).left,right:r.left+o,top:r.top,bottom:r.top+l};this.options.vertical?t.top<=(s[2]+s[3])/2?(n="before",r.bottom-=l/2):r.top+=l/2:t.left<=(s[0]+s[1])/2?(n="before",r.right-=o/2):r.left+=o/2,this.hasChildGroup(e)&&(r=m),this.rootGroup.movePlaceholder(this,i,n,r)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),t(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var e=this.el;return"relative"===e.css("position")||"absolute"===e.css("position")||"fixed"===e.css("position")?e:e.offsetParent()},hasChildGroup:function(e){return this.options.nested&&this.getContainerGroup(e)},getContainerGroup:function(e){if((i=a.data(this.items[e],"subContainers"))===l){var t=this.$getChildren(this.items[e],"container"),i=!1;t[0]&&(i=a.extend({},this.options,{rootGroup:this.rootGroup,group:f++}),i=t[n](i).data(n).group),a.data(this.items[e],"subContainers",i)}return i},$getChildren:function(e,t){var i=(s=this.rootGroup.options)[t+"Path"],s=s[t+"Selector"];return e=a(e),i&&(e=e.find(i)),e.children(s)},_serialize:function(e,t){var i=this,s=this.$getChildren(e,t?"item":"container").not(this.options.exclude).map(function(){return i._serialize(a(this),!t)}).get();return this.rootGroup.options.serialize(e,s,t)},traverse:function(t){a.each(this.items||[],function(e){(e=a.data(this,"subContainers"))&&e.traverse(t)}),t(this)},_clearDimensions:function(){this.itemDimensions=l},_destroy:function(){var t=this;this.target.off(d.start,this.handle),this.el.removeData(n),this.options.drop&&(this.group.containers=a.grep(this.group.containers,function(e){return e!=t})),a.each(this.items||[],function(){a.removeData(this,"subContainers")})}};var g={enable:function(){this.traverse(function(e){e.disabled=!1})},disable:function(){this.traverse(function(e){e.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(e){e._clearDimensions()})},destroy:function(){this.traverse(function(e){e._destroy()})}};a.extend(o.prototype,g),a.fn[n]=function(i){var s=Array.prototype.slice.call(arguments,1);return this.map(function(){var e=a(this),t=e.data(n);return t&&g[i]?g[i].apply(t,s)||this:(t||i!==l&&"object"!=typeof i||e.data(n,new o(e,i)),this)})}}(jQuery,window,"sortable");